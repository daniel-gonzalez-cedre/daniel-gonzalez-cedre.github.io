\input{preamble.tex}
\input{environments.tex}
\input{definitions.tex}

\begin{document}

\title{Discrete Mathematics}
\author{Daniel Gonzalez Cedre}
\date{University of Notre Dame \\ Spring of 2023}
\maketitle

\setcounter{chapter}{5}
\chapter{Cardinality}

\section{Functions}

\begin{definition}[Function]
    As a reminder,
    we say that $f: X \to Y$ is a function from $X$ to $Y$ \ifandonlyif both of the following hold:
    \begin{enumerate}
        \item[I.]
            $f \subseteq X \times Y$
        \item[II.]
            $\pn*{\forall x \in X}\pn*{\exists ! y \in Y}\pn*{(x, y) \in f}$
    \end{enumerate}
\end{definition}

\begin{definition}[Composition]
    Given two functions $f: A \to B$ and $g: B \to C$,
    the \emph{composition} of $g$ with $f$ is another function $g \compose f: A \to C$
    given by $(g \compose f)(a) \defn g\pn*{f\pn*{a}}$ for all $a \in A$.
\end{definition}

\begin{definition}[Injectivity]
    We say that a function $f: X \to Y$ is an \emph{injection}
    \iffbydefn either of the following two statements holds:
    \begin{enumerate}
        \item[\textsc{i.}]
            $\pn*{\forall x_1 \in X}\pn*{\forall x_2 \in X}\pn*{x_1 \neq x_2 \implies f(x_1) \neq f(x_2)}$
        \item[\textsc{ii.}]
            $\pn*{\forall x_1 \in X}\pn*{\forall x_2 \in X}\pn*{f(x_1) = f(x_2) \implies x_1 = x_2}$
    \end{enumerate}
    Notice that these two statements are equivalent
    since the leading quantifiers are identical
    and the unquantified implications are contrapositives of each other,
    and we know from the propositional logic that $\pn*{p \rightarrow q} \iff \pn*{\neg q \rightarrow \neg p}$.\\
    It is common to denote injective functions using the notation $f: X \injection Y$.
\end{definition}

\begin{definition}[Surjectivity]
    We say that a function $f: X \to Y$ is a \emph{surjection}
    \iffbydefn $\pn*{\forall y \in Y}\pn*{\exists x \in X}\pn*{f(x) = y}$.\\
    It is common to denote injective functions using the notation $f: X \surjection Y$.
\end{definition}

\begin{definition}[Bijectivity]
    We say that a function $f: X \to Y$ is a \emph{bijection}
    \iffbydefn $f$ is both injective and surjective.\\
    For bijections,
    it is common to combine the injective and surjective notations and denote them $f: X \bijection Y$.
\end{definition}

\begin{example}
    Consider the function $f: \Z \to \Z$ given by $f(z) = z - 1$.
    This function is a bijection.
\end{example}
\begin{proof}
    Let $x_1, x_2 \in \Z$ and suppose $f(x_1) = f(x_2)$.
    Then, we can observe
    \begin{alignat*}{3}
        f(x_1) = f(x_2) &\implies & x_1 - 1 &= x_2 - 1 &~~&\text{ by definition}\\
                        &\implies & x_1 &= x_2 &&\text{ by basic algebra}
    \end{alignat*}
    Therefore, $f$ is an injection.\\
    Now, let $y \in \Z$ and note $y + 1 \in \Z$.
    Since $f(y + 1) = (y + 1) - 1 = y$ by definition, we have that $f$ is surjective.

    Since $f$ is both injective and surjective, $f$ is a bijection by definition.
\end{proof}

\subsection{Invertibility}

\begin{definition}[Identity]
    For every set $A$, we define its \emph{identity function} $\id_A: A \to A$
    by $\id_A(a) \defn (a)$ for all $a \in A$.
\end{definition}

\begin{definition}[Monomorphisms]
    We say that a function $f: A \to B$ is \emph{monic} \iffbydefn
    $\pn*{\exists g: B \to A}\pn*{g \circ f = \id_{A}}$.
    Such $g$ are called \emph{left-inverses} for $f$.
\end{definition}

\begin{definition}[Epimorphisms]
    We say that a function $f: A \to B$ is \emph{epic} \iffbydefn
    $\pn*{\exists g: B \to A}\pn*{f \circ g = \id_{B}}$.
    Such $g$ are called \emph{right-inverses} for $f$.
\end{definition}

\begin{definition}[Isomorphisms]
    We say that $f: A \to B$ is an \emph{isomorphism} \iffbydefn
    $\pn*{\exists g: B \to A}\pn*{g \circ f = \id_{A} \meet f \circ g = \id_{B}}$.
    We can then say that $g$ is an \emph{inverse} (\aka \emph{two-sided inverse}) for $f$,
    and we then say that $f$ is \emph{invertible}.
\end{definition}

\begin{axiom}[Axiom of Choice]
    Every surjection has a right-inverse.
\end{axiom}

\begin{theorem}\label{thm:inverse}
    Let $A \neq \emptyset$ and $B \neq \emptyset$ and consider $f: A \to B$.
    The following are true:
    \begin{enumerate}
        \item[\textsc{i.}]
            $f$ is an injection $\iff$ $f$ is a monomorphism.
        \item[\textsc{ii.}]
            $f$ is a surjection $\iff$ $f$ is an epimorphism.
        \item[\textsc{iii.}]
            $f$ is a bijection $\iff$ $f$ is an isomorphism.
    \end{enumerate}
\end{theorem}

\section{Cardinality}

\begin{definition}[Cardinality]
    Let $A$ and $B$ be sets.
    The \emph{cardinality} of a set,
    which we denote by $\cardinality{A}$%
    \footnote{The \emph{cardinality} of a set is not always guaranteed to exist without the Axiom of Choice.},
    corresponds to our intuitive notion of its \emph{size} relative to other sets.
    If we want to compare two sets,
    we assess their relative cardinalities by determining whether or not one set \emph{fits inside} the other
    by seeing what kinds of functions it is possible to define between them.

    We say that the \emph{cardinality} of $A$ is \emph{no greater than} the \emph{cardinality} of $B$
    \iffbydefn $\exists f: A \to B$ such that $f$ is an injection.
    In this case, we say that $\cardinality{A} \leq \cardinality{B}$.

    We say that the \emph{cardinality} of $A$ is \emph{no lesser than} the \emph{cardinality} of $B$
    \iffbydefn $\exists f: A \to B$ such that $f$ is an surjection.
    In this case, we say that $\cardinality{A} \geq \cardinality{B}$.

    Naturally, we say $A$ and $B$ have the \emph{same cardinality}
    \iffbydefn $\exists f: A \to B$ such that $f$ is a bijection,
    denoted $\cardinality{A} = \cardinality{B}$.
\end{definition}

\begin{corollary}
    For any nonempty sets $A \neq \emptyset$ and $B \neq \emptyset$, we have
    $\cardinality{A} \leq \cardinality{B} \iff \cardinality{B} \geq \cardinality{A}$.
\end{corollary}
\begin{proof}
    Suppose $\cardinality{A} \leq \cardinality{B}$ for nonempty $A$ and $B$.
    This means we have an injection $\varphi: A \to B$ by definition.
    Then, by \autoref{thm:inverse}, $\varphi$ is monic,
    so we know that $\exists \psi: B \to A$ such that $\psi \compose \varphi = \id_A$.
    Since $\psi$ has a right inverse, it must be epic by definition,
    so $\psi$ is a surjection by \autoref{thm:inverse}.

    Conversely, suppose $\cardinality{B} \geq \cardinality{A}$ for nonempty $A$ and $B$.
    Then, there is a surjection $\psi: B \to A$.
    Since $\psi$ is an epimorphism by \autoref{thm:inverse},
    we have $\varphi: A \to B$ such that $\psi \compose \varphi = \id_A$.
    Since $\varphi$ has a left inverse, it must be monic by definition,
    so $\varphi$ is an injection by \autoref{thm:inverse}.
\end{proof}

\begin{definition}[Finite Set]
    We say that a set $A$ is \emph{finite}
    \iffbydefn $\pn*{\exists n \in \N}\pn*{\exists f: A \to n}\pn*{f \text{ is a bijection}}$.
    In this case, we will say that $\cardinality{A} = n$.
\end{definition}

\begin{definition}[Countable Set]
    We say that a set $A$ is \emph{countable} \iffbydefn
    $\pn*{\exists f: A \to \N}\pn*{f \text{ is an injection}}$.
    In this case, we say that $\cardinality{A} \leq \aleph_0$.
\end{definition}

\begin{example}
    Let's prove that $\cardinality{\N} = \cardinality{\Z}$.
\end{example}
\begin{proof}
    Consider the function $f: \Z \to \N$ given by
    \begin{equation*}
        f(z) =
        \begin{cases}
            2z        &\text{ if } z \geq 0\\
            2(-z) - 1 &\text{ if } z < 0
        \end{cases}
    \end{equation*}
    First, let's see that this is an injection.
    Let $x_1, x_2 \in \Z$ and suppose $f(x_1) = f(x_2)$.
    We now have two cases.

    \begin{case}[Case 1]
        If $f(x_1)$ is even, then we know $f(x_1) = 2k$ for some $k \in \N$ by definition.
        Then, we have $f(x_2) = 2k$ as well, since $f(x_1) = f(x_2)$.

        Now, we claim that $x_1 \geq 0$:
        if we assume $x < 0$ towards the contrary,
        then we would have $f(x_1) = 2(-x_1) - 1$, which is odd.
        We would then have
        \begin{align*}
            2(-x_1) - 1 = 2k &\implies 2(-x_1) - 2k = 1\\
                             &\implies 2(k - x_1) = 1\\
                             &\implies k - x_1 = \sfrac{1}{2}
        \end{align*}
        However, since $k$ and $x_1$ are both integers (and $\Z$ is an ordered ring),
        $k - x_1$ must be an integer. \contradiction

        By the same argument, we also have that $x_2 \geq 0$.
        Therefore, $2x_1 = f(x_1) = f(x_2) = 2x_2$, so $x_1 = x_2$.
    \end{case}
    \begin{case}[Case 2]
        This case is left as an exercise to the reader.
    \end{case}
    Thus, $f$ is injective since $x_1 = x_2$ in both cases.

    Now, let's show that $f$ is a surjection.
    Suppose $y \in \N$ and again we have two cases.

    \begin{case}[Case 1]
        If $y$ is even, then $y = 2k$ for some $k \in \N$.
        But then, we can simply see $k \in \Z$ and $f(k) = 2k$ since $k \geq 0$.
    \end{case}
    \begin{case}[Case 2]
        If $y$ is odd, then $y = 2k + 1$ for some $k \in \N$.
        Then, $k \in \Z$ and $f(-k - 1) = 2(k + 1) - 1 = 2k + 2 - 1 = 2k + 1$
        because $k \geq 0 \implies -k \leq 0 \implies -k - 1 < -k \leq 0$ and $-k - 1 \in \Z$.
    \end{case}
    Therefore, since we found a preimage for $y$ in both cases, $f$ is surjective.

    This means $f$ is a bijection, so we can conclude that $\cardinality{\N} = \cardinality{\Z}$.
\end{proof}

\begin{example}
    Let's prove that $\cardinality{\N} = \cardinality{\Q}$.
\end{example}
\begin{proof}
    \hl{TODO}
\end{proof}

\begin{theorem}[Cantor-Shr\"oder-Bernstein]
    Given two sets $A$ and $B$,
    if there exist injections $f: A \injection B$ and $g: B \injection A$,
    then there exists a bijection $h: A \bijection B$.
\end{theorem}

\begin{definition}[Sequences]
    A \emph{finite sequence} of length $n \in \N$ over a set $X$ is a function $f: n \to X$.
    Here, the length of the sequence is given by its \emph{domain} $n = \set*{0, 1, \dots n - 1}$,
    and the individual elements in the sequence are taken from $X$.

    An \emph{infinite sequence} over a set $X$ is a function $f: \N \to X$.
    Since the domain here is infinite, we have a place in the sequence for each natural number,
    so our sequence has infinite length.

    Here, the inputs to the function act as indices for the entries in the sequence,
    and the entry itself is given by the output of the function at that index.
    So, the first entry is given by $f(0)$, the second by $f(1)$, \etc

    Sequences are sometimes referred to as \emph{strings},
    evoking the similarity between list data structures in programming languages
    (\eg arrays in \texttt{C}, lists in \texttt{Python})
    and finite sequences.
    When you access the third entry of a list in \texttt{Python},
    you might use syntax like \texttt{L[2]}.
    Similarly, the third entry in a mathematical sequence is given by $f(2)$.
    Since \texttt{String} data types in many languages are modeled using lists (\eg of \texttt{char} types),
    it is natural to associate strings with sequences.
\end{definition}

\begin{theorem}[Cantor's Diagonal Argument]
    Let $I \defn \set*{f \suchthat f: \N \to \N}$.
    Then $\cardinality{\N} \not \geq \cardinality{I}$.
\end{theorem}
\begin{proof}
    \hl{TODO}
\end{proof}

\begin{theorem}[Cantor's Theorem]
    $\cardinality{X} < \cardinality{\power{X}}$ for every $X$.
\end{theorem}
\begin{proof}
    Suppose, towards a contradiction, that $\varphi: X \surj \power{X}$ is a surjection.
    \hl{TODO}
\end{proof}

\end{document}
